<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>ì„ íƒê³¼ëª© ì°¾ê¸° í”„ë¡œê·¸ë¨</title>
<meta name="description" content="íŠ¹ìˆ˜êµìœ¡ëŒ€ìƒí•™ìƒì˜ í¥ë¯¸ì™€ ì„ í˜¸ë¥¼ ë°”íƒ•ìœ¼ë¡œ ì„ íƒê³¼ëª© íƒìƒ‰ì„ ì§€ì›í•˜ëŠ” êµìœ¡ìš© í”„ë¡œê·¸ë¨ì…ë‹ˆë‹¤.">
<style>
  :root { --card:#ffffff; --muted:#667085; --accent:#0f172a; --primary:#2563eb; }
  * { box-sizing:border-box; }
  body { margin:0; font-family:system-ui,-apple-system,Segoe UI,Roboto,"Noto Sans KR",Arial,"Apple SD Gothic Neo",sans-serif; background:linear-gradient(#fff,#f6f7fb); color:var(--accent); }
  .container { max-width:1024px; margin:0 auto; padding:20px; }
  header { display:flex; gap:12px; justify-content:space-between; align-items:center; flex-wrap:wrap; }
  h1 { margin:0; font-size:clamp(22px,3vw,32px); font-weight:800; letter-spacing:-.2px; }
  .muted { color:var(--muted); }
  .toolbar { display:flex; gap:8px; flex-wrap:wrap; }
  .btn { padding:10px 14px; border:1px solid #d1d5db; border-radius:10px; background:#fff; cursor:pointer; }
  .btn.primary { background:var(--primary); color:#fff; border-color:var(--primary); }
  .hero { padding:36px 18px; text-align:center; }
  .hero h1 { font-size:clamp(26px,4vw,42px); margin:0; }
  .hero p { margin:10px auto 0; max-width:700px; color:var(--muted); }
  .cta { margin-top:16px; display:inline-flex; gap:10px; flex-wrap:wrap; }
  .form { background:var(--card); border:1px solid #e5e7eb; border-radius:16px; box-shadow:0 4px 16px rgba(0,0,0,.04); padding:18px; }
  .form .grid { display:grid; grid-template-columns:1fr; gap:12px; }
  @media (min-width:760px){ .form .grid { grid-template-columns:repeat(3,1fr); } }
  label { font-weight:700; font-size:14px; display:block; margin-bottom:6px; }
  input { width:100%; padding:12px; border:1px solid #d1d5db; border-radius:10px; }
  .progress-wrap { margin-top:10px; }
  progress { width:100%; height:14px; appearance:none; }
  progress::-webkit-progress-bar { background:#eef2ff; border-radius:12px; }
  progress::-webkit-progress-value { background:linear-gradient(90deg,#60a5fa,#2563eb); border-radius:12px; }
  .guide { text-align:center; font-size:20px; font-weight:800; margin:18px 0 10px; }
  .row { display:grid; grid-template-columns:1fr; gap:16px; }
  @media (min-width:760px){ .row { grid-template-columns:1fr 1fr; } }
  .card { background:var(--card); border:1px solid #e5e7eb; border-radius:16px; box-shadow:0 6px 16px rgba(0,0,0,.06); overflow:hidden; }
  .card-body { padding:14px; text-align:center; }
  .illus,
.illus .wrap {
  background-color: #ffffff !important;  /* í•­ìƒ í°ìƒ‰ ë°°ê²½ ê³ ì • */
}
 .illus { position:relative; width:100%; padding-top:66%; border-radius:14px; overflow:hidden; display:flex; align-items:center; justify-content:center; cursor:pointer; }
 .illus .wrap { position:absolute; inset:0; display:flex; align-items:center; justify-content:center; }
 .illus img { width:100%; height:100%; object-fit:contain; transform: scale(1.1); display:none; } /* ì„±ê³µ ë¡œë“œì‹œ í‘œì‹œ */
 .illus svg { width:100%; height:100%; filter:none; }
 .title { font-weight:700; font-size:16px; margin-top:10px; }
  footer { text-align:center; margin:24px 0 8px; font-size:14px; color:var(--muted); }
  .hidden { display:none !important; }
  /* ê²°ê³¼ í™”ë©´ */
  .grid-3 { display:grid; grid-template-columns:1fr; gap:12px; }
  @media (min-width:840px){ .grid-3 { grid-template-columns:repeat(3,1fr); } }
  .badge { background:#fff; border:1px solid #e5e7eb; border-radius:14px; padding:14px; box-shadow:0 4px 10px rgba(0,0,0,.04); }
  .badge h4 { margin:0 0 6px; font-size:15px; }
  .rank { font-weight:800; margin-right:6px; }
  @media print { .toolbar, .hero, #page-start, #page-info, .no-print { display:none !important; } .container{max-width:900px;} }
 /* ì‹œì‘ í™”ë©´(íˆì–´ë¡œ) ìƒí•˜ ê°„ê²© ì¡°ì • */
.hero h1 { 
  margin: 22px 0 36px;   /* ì œëª© ì•„ë˜ ê°„ê²© â†‘ */
}
.hero p {
  font-size: 20px;
  line-height: 2;
  margin: 0 auto 18px;   /* â† ì¢Œìš° autoë¡œ ë°•ìŠ¤ ìì²´ ì¤‘ì•™ */
  max-width: 700px;
  color: var(--muted);
  text-align: center;    /* ë¬¸ì¥ë„ ê°€ìš´ë° */
}
.hero .cta { 
  margin-top: 28px;      /* ë²„íŠ¼ ìœ„ ê°„ê²© â†‘ (4ë²ˆ) */
  gap: 12px;             /* ë²„íŠ¼ ê°„ ê°„ê²© */
  justify-content: center; /* ë²„íŠ¼ ë¬¶ìŒ ê°€ìš´ë° ì •ë ¬ */
}
  .sound-btn {
  position: fixed;
  top: 20px;
  right: 20px;
  background: white;
  border: 1px solid #d1d5db;
  padding: 10px 16px;
  border-radius: 10px;
  font-size: 15px;
  cursor: pointer;
  z-index: 9999;
  box-shadow: 0 3px 8px rgba(0,0,0,0.15);
}
.sound-btn:hover {
  background: #f3f4f6;
}
</style>
<link href="https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_2310@1.0/HSBombaram2.0.css" rel="stylesheet">
<style>
  body {
    font-family: "HSBombaram2.0", "NanumSquareRound", sans-serif;
  }
</style>

</head>
<body>
  <div class="container">
    <header>

<!-- ì‹œì‘ ë°°ê²½ìŒ -->
<audio id="startSound" src="sounds/start.mp3" loop preload="auto"></audio>
<!-- ê²°ê³¼ ë°°ê²½ìŒ -->
<audio id="finishSound" src="sounds/finish.mp3" loop preload="auto"></audio>   
      <div>
        <h1>ì„ íƒê³¼ëª© ì°¾ê¸°</h1>
        <div class="muted">ë‚˜ì—ê²Œ ë§ëŠ” ì„ íƒê³¼ëª©ì„ ì•Œì•„ë´…ì‹œë‹¤.</div>
      </div>
      <div class="toolbar">
        <button class="btn" id="navStart" type="button">ì²˜ìŒìœ¼ë¡œ</button>
        <button class="btn" id="navInfo" type="button">ì •ë³´ì…ë ¥</button>
        <button class="btn" id="navGame" type="button">ì§„í–‰í™”ë©´</button>
        <button class="btn" id="printBtn" type="button">ê²°ê³¼ ì¸ì‡„/PDF</button>
        <button id="soundToggle" class="btn">ğŸ”ˆ ì‚¬ìš´ë“œ OFF</button>
      </div>
    </header>
    <!-- ì‹œì‘ -->
    <section id="page-start" class="hero">
      <h1>ì„ íƒê³¼ëª© ì°¾ê¸°</h1>
      <p>ì§€ê¸ˆë¶€í„° ì¬ë¯¸ìˆëŠ” ì„ íƒê³¼ëª© ì°¾ê¸° ê²Œì„ì„ í•´ë³¼ ê±°ì˜ˆìš”!<br> ë‘ ê°€ì§€ ê·¸ë¦¼ì´ ë‚˜ì™€ìš”.<br> ê·¸ì¤‘ì— ë‚´ê°€ ë” ì¢‹ì•„í•˜ê±°ë‚˜ í•˜ê³  ì‹¶ì€ ê²ƒì„ ì„ íƒí•´ë³´ì„¸ìš”.<br>
      ì´ <b><span id="roundTotal">30</span>ë¬¸í•­</b>ì´ì˜ˆìš”. ëª¨ë‘ ë§ˆì¹˜ë©´ ë‚´ê°€ ì¢‹ì•„í•˜ëŠ” ê³¼ëª©ì„ ì•Œ ìˆ˜ ìˆì–´ìš”! ìì‹ ìˆì£ ? <br><br> ì ì´ì œ ì‹œì‘í•´ë´…ì‹œë‹¤. </p>
      <div class="cta">
        <button class="btn primary" id="startToInfo" type="button">ê²Œì„ ì‹œì‘</button>
      </div>
    </section>
    <!-- ì •ë³´ ì…ë ¥ -->
    <section id="page-info" class="hidden">
      <h2 style="margin:34px 0 8px; font-weight:800;">ê²Œì„ì„ ì‹œì‘í•˜ê¸° ì „ì— ì•„ë˜ ë‚´ìš©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.</h2>
      <div class="form">
        <div class="grid">
          <div><label for="school">í•™êµëª…</label><input id="school"/></div>
          <div><label for="grade">í•™ë…„</label><input id="grade"/></div>
          <div><label for="name">ì„±ëª…</label><input id="name"/></div>
        </div>
        <div style="margin-top:12px; display:flex; gap:8px; flex-wrap:wrap;">
          <button class="btn primary" id="infoToGame" type="button" >ê²Œì„ ì‹œì‘</button>
          <button class="btn" id="infoClear"type="button">ë‹¤ì‹œ ì…ë ¥</button>
        </div>
      </div>
    </section>
    <!-- ì§„í–‰ -->
    <section id="page-game" class="hidden">
      <div class="progress-wrap">
        <progress id="progress" value="0" max="30"></progress>
        <div class="muted" style="font-size:12px;">ì§„í–‰ë„: <span id="stepNow">0</span>/<span id="stepMax">30</span></div>
      </div>
      <div class="guide">ì•„ë˜ì˜ ë‘ ê°€ì§€ ì¤‘, ë” í¥ë¯¸ë¡­ê±°ë‚˜ ë°°ìš°ê³  ì‹¶ì€ í™œë™ì„ ì„ íƒí•´ì£¼ì„¸ìš”.</div>
      <div class="row" id="choices"></div>
    </section>
    <!-- ê²°ê³¼ -->
    <section id="page-result" class="hidden" style="margin-top:18px;">
      <h2 style="margin:0 0 8px; font-weight:800;">ê²°ê³¼</h2>
      <div id="studentMeta" class="muted" style="font-size:13px; margin-bottom:10px;"></div>
      <div class="grid-3" id="rankGrid"></div>
      <div class="no-print" style="margin-top:12px; display:flex; gap:8px; flex-wrap:wrap;">
        <button class="btn primary" id="againBtn" type="button">ë‹¤ì‹œ ì§„í–‰</button>
        <button class="btn" id="reshuffleBtn" type="button">ìƒˆë¡œ ì„ì–´ì„œ ì§„í–‰</button>
        <button class="btn" id="downloadBtn" type="button">ê²°ê³¼ JSON ì €ì¥</button>
        <button class="btn" id="printBtn2" type="button">ì¸ì‡„/PDF</button>
      </div>
    </section>
    <footer>Â© 2025 ë¶€ì²œêµìœ¡ì§€ì›ì²­ íŠ¹ìˆ˜í•™êµê³ êµí•™ì ì œ ì „ë¬¸ì í•™ìŠµê³µë™ì²´</footer>
  </div>
<script>
/* ==== ë°ì´í„° ==== */
/* SUBJECTS */
const SUBJECTS = [
  { id:"ì™¸ì‹ì„œë¹„ìŠ¤", key:"food", colorFrom:"#ffedd5", colorTo:"#ffe4e6", activities:[
    "ì†ë‹˜ ë§ì´ ì¸ì‚¬í•˜ê¸°",
    "ìŒì‹ ì£¼ë¬¸ë°›ê¸°",
    "í…Œì´ë¸” ì„¸íŒ…í•˜ê¸°(ì‹íƒë³´, ëƒ…í‚¨ ë“±)",
    "ìŒì‹ ì„œë¹™í•˜ê¸°",
    "ê¸°ë¬¼ ì·¨ê¸‰í•˜ê¸° & ë¹„í’ˆ ê´€ë¦¬í•˜ê¸°",
    "ì£¼ë°©ê¸°ê¸°(ì¡°ë¦¬ê¸°êµ¬) ì‚¬ìš©í•˜ê¸°",
    "ë§¤ì¥ ì²­ì†Œí•˜ê¸°",
    "í™”ì¥ì‹¤ ì²­ì†Œí•˜ê¸°",
    "ë¶„ë¦¬ë°°ì¶œí•˜ê¸°",
    "ê³„ëŸ‰í•˜ê¸°",
    "ì‹ì¬ë£Œ ê´€ë¦¬ ë° ì†ì§ˆí•˜ê¸°",
    "ìŒì‹ ì¡°ë¦¬í•˜ê¸°(ë“ì´ê¸°, ë°ì¹˜ê¸°, ë³¶ê¸°, êµ½ê¸°, íŠ€ê¸°ê¸°, ì°Œê¸°, ì‚¶ê¸°)",
    "ìŒë£Œ ì œì¡°í•˜ê¸°",
    "ë””ì €íŠ¸ ì œì¡°í•˜ê¸°"
  ]},
  { id:"ëŒ€ì¸ì„œë¹„ìŠ¤", key:"care", colorFrom:"#dbeafe", colorTo:"#dcfce7", activities:[
    "ì¸ì‚¬ ì˜ˆì ˆ ë°°ìš°ê¸°",
    "ê°ì • í‘œí˜„ ì—°ìŠµ",
    "ê³ ê° ìƒë‹´í•˜ê¸°",
    "ì‚¬ëŒê³¼ ìƒí˜¸ì‘ìš©í•˜ê¸°",
    "ì´ë™(ë³´í–‰) ë•ê¸°",
    "ì‹ì‚¬(ê°„ì‹) ë•ê¸°",
    "ì„¸ì°¨í•˜ê¸°",
    "ì˜ë¥˜ ì„¸íƒí•˜ê¸°",
    "ë„ë³´ë¡œ ë¬¼ê±´ ë°°ë‹¬í•˜ê¸°",
    "ì‚¬ë¬´ì‹¤ ì²­ì†Œí•˜ê¸°",
    "ê°€ì • ë‚´ ì •ë¦¬ì •ëˆí•˜ê¸°",
    "ì†í†± ê´€ë¦¬ ì„œë¹„ìŠ¤ ë³´ì¡°",
    "ë¯¸ìš© ë³´ì¡°(ë¨¸ë¦¬ ê°ê²¨ì£¼ê¸°, ë¨¸ë¦¬ì¹´ë½ ì²­ì†Œ ë“±)"
  ]},
  { id:"ê¸°ì´ˆì‘ì—…ê¸°ìˆ 1", key:"tools", colorFrom:"#fef3c7", colorTo:"#ecfccb", activities:[
    "ê¸°ì¤€ì— ë”°ë¼ ë¬¼ê±´ ë¶„ë¥˜í•˜ê¸°",
    "ì¤„ìë¡œ ê¸¸ì´ ì¸¡ì •í•˜ê¸°",
    "ê³„ëŸ‰ì»µìœ¼ë¡œ ë¬¼ì´ë‚˜ ìš°ìœ  ê³„ëŸ‰í•˜ê¸°",
    "ì €ìš¸ë¡œ ì¬ë£Œ ê³„ëŸ‰í•˜ê¸°",
    "ê³µêµ¬ë¥¼ ì´ìš©í•˜ì—¬ ì¡°ë¦½í•˜ê¸°",
    "ë‚˜ì‚¬ ì¡°ì´ê¸° ì‹¤ìŠµ",
    "ê°„ë‹¨í•œ ì¡°ë¦½ ì‘ì—…",
    "ë“œë¼ì´ë²„ ì‚¬ìš©ë²• ì•Œê¸°",
    "ë§ì¹˜ì™€ ì¥ë„ë¦¬ ì‚¬ìš©ë²• ì•Œê¸°",
    "ì „ë™ë“œë¼ì´ë²„ ì‚¬ìš©ë²• ì•Œê¸°"
  ]},
  { id:"ê¸°ì´ˆì‘ì—…ê¸°ìˆ 2", key:"box", colorFrom:"#ede9fe", colorTo:"#f5d0fe", activities:[
    "í¬ì¥í•˜ê¸° (ë¼ë²¨ ë¶™ì´ê¸° í¬í•¨)",
    "ìš´ë°˜í•˜ê¸° (ì¡°ì‹¬ì„± ì¤‘ìš”)",
    "ë¬¼í’ˆ ë¶„ë¥˜ ë° ë°°ë‹¬í•˜ê¸°",
    "ì„¸íƒí•˜ê¸°",
    "ì²­ì†Œí•˜ê¸°",
    "ìƒí™œìš©í’ˆ ì œì¡°í•˜ê¸° (ì–‘ë§ëª© ì»µ ë°›ì¹¨ ë“±)",
    "ì‹í’ˆ ê°€ê³µ ì§ë¬´ (ë“œë¦½ë°± ì»¤í”¼ ë§Œë“¤ê¸° ë“±)",
    "ë³µì‚¬ê¸°Â·ì½”íŒ…ê¸°Â·ì œë³¸ê¸°Â·ì„¸ë‹¨ê¸° ì‚¬ìš©í•˜ê¸°",
    "ì´ë¦„í‘œ ë‹¬ê¸° (ë°”ì½”ë“œÂ·ìƒ‰ë  ë“±)",
    "ë„ì„œ ëŒ€ì¶œÂ·ë°˜ë‚© ì§ë¬´ ìˆ˜í–‰í•˜ê¸°",
    "ë„ì„œ ìš´ë°˜ ë° ì •ë¦¬í•˜ê¸°",
    "ì œê³¼ì œë¹µ ì²´í—˜í•˜ê¸°",
    "ì»¤í”¼ ì œì¡°í•˜ê¸°"
  ]},
  { id:"ë†ìƒëª…", key:"leaf", colorFrom:"#d1fae5", colorTo:"#a5f3fc", activities:[
    "í™”ë¶„ ì‹¬ê¸°",
    "ëª¨ì¢… ì‹¬ê¸°",
    "ë¬¼ì£¼ê¸° ì‹¤ìŠµ",
    "ë†ì¶•ì‚°ë¬¼ ê°€ê³µí’ˆ ë§Œë“¤ê¸°",
    "ì‘ë¬¼ ì¬ë°°í•˜ê¸°",
    "ë™ë¬¼ ì‚°ì—… ì•Œê¸°",
    "ë°˜ë ¤ë™ë¬¼ ê´€ë¦¬í•˜ê¸°",
    "ìˆ² ê´€ë¦¬ ë°©ë²• ì•Œê¸°",
    "ì¹œí™˜ê²½ ë†ì¶•ì‚°ë¬¼",
    "í•™êµ í…ƒë°­Â·ì£¼ë§ ë†ì¥Â·ì‹¤ë‚´ ì •ì› ê°€ê¾¸ê¸°"
  ]},
  { id:"ì •ë³´ì²˜ë¦¬", key:"laptop", colorFrom:"#bae6fd", colorTo:"#c7d2fe", activities:[
    "íƒ€ì ì—°ìŠµ",
    "ë¬¸ì„œ ì‘ì„±",
    "ê·¸ë¦¼íŒìœ¼ë¡œ ë””ìì¸í•˜ê¸°",
    "ì• í”Œë¦¬ì¼€ì´ì…˜ í™œìš©í•˜ê¸°",
    "ë™ì˜ìƒ ë§Œë“¤ê¸°",
    "ë¬¸ì„œ ì‘ì„± í”„ë¡œê·¸ë¨ ì‚¬ìš©í•˜ê¸°",
    "í”„ë ˆì  í…Œì´ì…˜ ë§Œë“¤ê¸°",
    "ì¸í„°ë„·ìœ¼ë¡œ ë¬¼ê±´ êµ¬ë§¤í•˜ê¸°",
    "ì¸í„°ë„·ìœ¼ë¡œ ì •ë³´ ì°¾ê¸°",
    "ì˜¨ë¼ì¸ìœ¼ë¡œ í˜‘ì—…í•˜ê¸°",
    "ì¸ê³µì§€ëŠ¥ í™œìš©í•˜ê¸°",
    "ë¬´ì¸ë‹¨ë§ê¸° ì‚¬ìš©í•˜ê¸°",
    "ë””ì§€í„¸ ê¸ˆìœµ ì„œë¹„ìŠ¤ í™œìš©í•˜ê¸°",
    "ì˜¨ë¼ì¸ í–‰ì •ì„œë¹„ìŠ¤ ì´ìš©í•˜ê¸°",
    "ë“œë¡ ìœ¼ë¡œ í•  ìˆ˜ ìˆëŠ” ì¼ ì²´í—˜í•˜ê¸°",
    "ì½”ë”© ë¡œë´‡ í”„ë¡œê·¸ë¨ ì²´í—˜í•˜ê¸°"
  ]},
  { id:"ì‚¬ë¬´ì§€ì›", key:"files", colorFrom:"#e5e7eb", colorTo:"#e7e5e4", activities:[
    "ë³µì‚¬ê¸° ì‚¬ìš©",
    "ë¬¸ì„œ ì •ë¦¬",
    "ì±…ìƒ ì •ëˆí•˜ê¸°",
    "ì‚¬ë¬´ìš©í’ˆ ì‚¬ìš©í•˜ê¸°",
    "ë³µí•© ì‚¬ë¬´ê¸°ê¸° ì‚¬ìš©í•˜ê¸°",
    "ë¬¸ì„œ ê´€ë¦¬ í•˜ê¸°",
    "ì‚¬ë¬´ì‹¤ ë° íƒ•ë¹„ì‹¤ ê´€ë¦¬í•˜ê¸°",
    "ìš°í¸ë¬¼ ì „ë‹¬ ë° í¬ì¥í•˜ê¸°",
    "ìš°í¸ë¬¼ í¬ì¥í•˜ê¸°",
    "ë„ì„œ ë¶„ë¥˜ ë° ì •ë¦¬í•˜ê¸°",
    "ë¯¼ì›ì¸ ì‘ëŒ€í•˜ê¸°"
  ]},
];

const IMAGE_COUNT = {
  leaf: 10,
  care: 12,
  food: 14,
  tools: 13,
  box: 13,
  laptop: 21,
  files: 11
};

const ACTIVITY_CODE = {
  food: {
    "ì†ë‹˜ ë§ì´ ì¸ì‚¬í•˜ê¸°": "greet",
    "ìŒì‹ ì£¼ë¬¸ë°›ê¸°": "order",
    "í…Œì´ë¸” ì„¸íŒ…í•˜ê¸°": "table",
    "ìŒì‹ ì„œë¹™í•˜ê¸°": "serve",
    "ê¸°ë¬¼ ì·¨ê¸‰í•˜ê¸° & ë¹„í’ˆ ê´€ë¦¬í•˜ê¸°": "utensil",
    "ì£¼ë°©ê¸°ê¸°(ì¡°ë¦¬ê¸°êµ¬) ì‚¬ìš©í•˜ê¸°": "appliance",
    "ë§¤ì¥ ì²­ì†Œí•˜ê¸°": "storeclean",
    "í™”ì¥ì‹¤ ì²­ì†Œí•˜ê¸°": "toiletclean",
    "ë¶„ë¦¬ë°°ì¶œí•˜ê¸°": "recycle",
    "ê³„ëŸ‰í•˜ê¸°": "measure",
    "ì‹ì¬ë£Œ ê´€ë¦¬ ë° ì†ì§ˆí•˜ê¸°": "prep",
    "ìŒì‹ ì¡°ë¦¬í•˜ê¸°": "cook",
    "ìŒë£Œ ì œì¡°í•˜ê¸°": "drink",
    "ë””ì €íŠ¸ ì œì¡°í•˜ê¸°": "dessert"
  },
  care: {
    "ì¸ì‚¬ ì˜ˆì ˆ ë°°ìš°ê¸°": "greeting",
    "ê°ì • í‘œí˜„ ì—°ìŠµ": "emotion",
    "ê³ ê° ìƒë‹´í•˜ê¸°": "consult",
    "ì‚¬ëŒê³¼ ìƒí˜¸ì‘ìš©í•˜ê¸°": "interaction",
    "ì´ë™(ë³´í–‰) ë•ê¸°": "mobility",
    "ì‹ì‚¬(ê°„ì‹) ë•ê¸°": "mealassist",
    "ì„¸ì°¨í•˜ê¸°": "carwash",
    "ì˜ë¥˜ ì„¸íƒí•˜ê¸°": "laundry",
    "ë„ë³´ë¡œ ë¬¼ê±´ ë°°ë‹¬í•˜ê¸°": "delivery",
    "ì‚¬ë¬´ì‹¤ ì²­ì†Œí•˜ê¸°": "officeclean",
    "ê°€ì • ë‚´ ì •ë¦¬ì •ëˆí•˜ê¸°": "homeclean",
    "ì†í†± ê´€ë¦¬ ì„œë¹„ìŠ¤ ë³´ì¡°": "nailcare",
    "ë¯¸ìš© ë³´ì¡°": "haircare"
  },
  tools: {
    "ê¸°ì¤€ì— ë”°ë¼ ë¬¼ê±´ ë¶„ë¥˜í•˜ê¸°": "sort",
    "ì¤„ìë¡œ ê¸¸ì´ ì¸¡ì •í•˜ê¸°": "measurelength",
    "ê³„ëŸ‰ì»µìœ¼ë¡œ ë¬¼ì´ë‚˜ ìš°ìœ  ê³„ëŸ‰í•˜ê¸°": "liquidmeasure",
    "ì €ìš¸ë¡œ ì¬ë£Œ ê³„ëŸ‰í•˜ê¸°": "weigh",
    "ê³µêµ¬ë¥¼ ì´ìš©í•˜ì—¬ ì¡°ë¦½í•˜ê¸°": "assemble",
    "ë‚˜ì‚¬ ì¡°ì´ê¸° ì‹¤ìŠµ": "screw",
    "ê°„ë‹¨í•œ ì¡°ë¦½ ì‘ì—…": "simpleassemble",
    "ë“œë¼ì´ë²„ ì‚¬ìš©ë²• ì•Œê¸°": "driver",
    "ë§ì¹˜ì™€ ì¥ë„ë¦¬ ì‚¬ìš©ë²• ì•Œê¸°": "hammer",
    "ì „ë™ë“œë¼ì´ë²„ ì‚¬ìš©ë²• ì•Œê¸°": "electricdriver"
  },
  box: {
    "í¬ì¥í•˜ê¸°": "pack",
    "ìš´ë°˜í•˜ê¸°": "carry",
    "ë¬¼í’ˆ ë¶„ë¥˜ ë° ë°°ë‹¬í•˜ê¸°": "delivery",
    "ì„¸íƒí•˜ê¸°": "laundry",
    "ì²­ì†Œí•˜ê¸°": "clean",
    "ìƒí™œìš©í’ˆ ì œì¡°í•˜ê¸°": "sockcraft",
    "ì‹í’ˆ ê°€ê³µ ì§ë¬´": "dripcoffee",
    "ë³µì‚¬ê¸°Â·ì½”íŒ…ê¸°Â·ì œë³¸ê¸°Â·ì„¸ë‹¨ê¸° ì‚¬ìš©í•˜ê¸°": "officeequip",
    "ì´ë¦„í‘œ ë‹¬ê¸°": "labeling",
    "ë„ì„œ ëŒ€ì¶œÂ·ë°˜ë‚© ì§ë¬´ ìˆ˜í–‰í•˜ê¸°": "bookloan",
    "ë„ì„œ ìš´ë°˜ ë° ì •ë¦¬í•˜ê¸°": "bookorganize",
    "ì œê³¼ì œë¹µ ì²´í—˜í•˜ê¸°": "baking",
    "ì»¤í”¼ ì œì¡°í•˜ê¸°": "coffee"
  },
  leaf: {
    "í™”ë¶„ ì‹¬ê¸°": "plantpot",
    "ëª¨ì¢… ì‹¬ê¸°": "seedling",
    "ë¬¼ì£¼ê¸° ì‹¤ìŠµ": "watering",
    "ë†ì¶•ì‚°ë¬¼ ê°€ê³µí’ˆ ë§Œë“¤ê¸°": "processing",
    "ì‘ë¬¼ ì¬ë°°í•˜ê¸°": "cultivation",
    "ë™ë¬¼ ì‚°ì—… ì•Œê¸°": "animalindustry",
    "ë°˜ë ¤ë™ë¬¼ ê´€ë¦¬í•˜ê¸°": "petcare",
    "ìˆ² ê´€ë¦¬ ë°©ë²• ì•Œê¸°": "forestcare",
    "ì¹œí™˜ê²½ ë†ì¶•ì‚°ë¬¼ ì•Œê¸°ê¸°": í™˜ê²½ ë†ì¶•ì‚°ë¬¼ ì•Œ,
    "í•™êµ í…ƒë°­Â·ì£¼ë§ ë†ì¥Â·ì‹¤ë‚´ ì •ì› ê°€ê¾¸ê¸°": "schoolfarm"
  },
  laptop: {
    "íƒ€ì ì—°ìŠµ": "typing",
    "ë¬¸ì„œ ì‘ì„±": "document",
    "ê·¸ë¦¼íŒìœ¼ë¡œ ë””ìì¸í•˜ê¸°": "paint",
    "ì• í”Œë¦¬ì¼€ì´ì…˜ í™œìš©í•˜ê¸°": "appuse",
    "ë™ì˜ìƒ ë§Œë“¤ê¸°": "video",
    "ë¬¸ì„œ ì‘ì„± í”„ë¡œê·¸ë¨ ì‚¬ìš©í•˜ê¸°": "wordprogram",
    "í”„ë ˆì  í…Œì´ì…˜ ë§Œë“¤ê¸°": "presentation",
    "ì¸í„°ë„·ìœ¼ë¡œ ë¬¼ê±´ êµ¬ë§¤í•˜ê¸°": "shopping",
    "ì¸í„°ë„·ìœ¼ë¡œ ì •ë³´ ì°¾ê¸°": "search",
    "ì˜¨ë¼ì¸ìœ¼ë¡œ í˜‘ì—…í•˜ê¸°": "collaboration",
    "ì¸ê³µì§€ëŠ¥ í™œìš©í•˜ê¸°": "aiuse",
    "ë¬´ì¸ë‹¨ë§ê¸° ì‚¬ìš©í•˜ê¸°": "kiosk",
    "ë””ì§€í„¸ ê¸ˆìœµ ì„œë¹„ìŠ¤ í™œìš©í•˜ê¸°": "fintech",
    "ì˜¨ë¼ì¸ í–‰ì •ì„œë¹„ìŠ¤ ì´ìš©í•˜ê¸°": "egov",
    "ë“œë¡ ìœ¼ë¡œ í•  ìˆ˜ ìˆëŠ” ì¼ ì²´í—˜í•˜ê¸°": "drone",
    "ì½”ë”© ë¡œë´‡ í”„ë¡œê·¸ë¨ ì²´í—˜í•˜ê¸°": "codingrobot"
  },
  files: {
    "ë³µì‚¬ê¸° ì‚¬ìš©": "copy",
    "ë¬¸ì„œ ì •ë¦¬": "document",
    "ì±…ìƒ ì •ëˆí•˜ê¸°": "desk",
    "ì‚¬ë¬´ìš©í’ˆ ì‚¬ìš©í•˜ê¸°": "officeitem",
    "ë³µí•© ì‚¬ë¬´ê¸°ê¸° ì‚¬ìš©í•˜ê¸°": "multimachine",
    "ë¬¸ì„œ ê´€ë¦¬ í•˜ê¸°": "filemanage",
    "ì‚¬ë¬´ì‹¤ ë° íƒ•ë¹„ì‹¤ ê´€ë¦¬í•˜ê¸°": "officeclean",
    "ìš°í¸ë¬¼ ì „ë‹¬ ë° í¬ì¥í•˜ê¸°": "maildeliver",
    "ìš°í¸ë¬¼ í¬ì¥í•˜ê¸°": "mailpack",
    "ë„ì„œ ë¶„ë¥˜ ë° ì •ë¦¬í•˜ê¸°": "booksort",
    "ë¯¼ì›ì¸ ì‘ëŒ€í•˜ê¸°": "customer"
  }
};

const ACTIVITY_COUNT = {
  food: {
    greet: 1, order: 1, table: 1, serve: 1, utensil: 1, appliance: 1,
    storeclean: 1, toiletclean: 1, recycle: 1, measure: 1, prep: 1,
    cook: 1, drink: 1, dessert: 1
  },
  care: {
    greeting: 1, emotion: 1, consult: 1, interaction: 1, mobility: 1,
    mealassist: 1, carwash: 1, laundry: 1, delivery: 1, officeclean: 1,
    homeclean: 1, nailcare: 1, haircare: 1
  },
  tools: {
    sort: 1, measurelength: 1, liquidmeasure: 1, weigh: 1, assemble: 1,
    screw: 1, simpleassemble: 1, driver: 1, hammer: 1, electricdriver: 1
  },
  box: {
    pack: 1, carry: 1, delivery: 1, laundry: 1, clean: 1,
    sockcraft: 1, dripcoffee: 1, officeequip: 1, labeling: 1,
    bookloan: 1, bookorganize: 1, baking: 1, coffee: 1
  },
  leaf: {
    plantpot: 1, seedling: 1, watering: 1, processing: 1, cultivation: 1,
    animalindustry: 1, petcare: 1, forestcare: 1, ecoagri: 1, schoolfarm: 1
  },
  laptop: {
    typing: 1, document: 1, paint: 1, appuse: 3, video: 2, wordprogram: 1,
    presentation: 1, shopping: 2, search: 1, collaboration: 1, aiuse: 2,
    kiosk: 1, fintech: 1, egov: 1, drone: 1, codingrobot: 1
  },
  files: {
    copy: 1, document: 1, desk: 1, officeitem: 1, multimachine: 1,
    filemanage: 1, officeclean: 1, maildeliver: 1, mailpack: 1,
    booksort: 1, customer: 1
  }
};

const TOTAL_ROUNDS = 30;

/* ==== ê³µí†µ ìœ í‹¸ ==== */
const $ = s => document.querySelector(s);
function randPick(a){ return a[Math.floor(Math.random()*a.length)]; }

function randomImageFor(key){
  const n = IMAGE_COUNT[key] || 10;
  const i = Math.floor(Math.random() * n) + 1;
  const name = String(i).padStart(2, '0');
  return `images/${key}_${name}.png`;
}

function normalize(s){
  return s.replace(/\s+/g,'').replace(/[()]/g,'').replace(/[Â·&]/g,'').trim();
}

function resolveActivityCode(key, activity){
  const table = ACTIVITY_CODE[key];
  if(!table) return null;
  if (table[activity]) return table[activity];        // ì •í™• ë§¤ì¹­
  const want = normalize(activity);                   // ëŠìŠ¨ ë§¤ì¹­
  for (const k in table){
    const cand = normalize(k);
    if (want === cand || cand.includes(want) || want.includes(cand)) {
      return table[k];
    }
  }
  return null;
}

function imageFor(key, activity){
  const code = resolveActivityCode(key, activity);
  if (code) {
    const n = (ACTIVITY_COUNT[key] && ACTIVITY_COUNT[key][code]) || 1;
    const i = Math.floor(Math.random() * n) + 1;
    const name = String(i).padStart(2,'0');
    return `images/${key}_${code}_${name}.png`;
  }
  return randomImageFor(key);
}

/* ==== í•™ìƒ ì •ë³´ ==== */
let student={school:"",grade:"",name:""};

function saveStudent(){
  student.school=$('#school')?.value?.trim()||"";
  student.grade=$('#grade')?.value?.trim()||"";
  student.name=$('#name')?.value?.trim()||"";
  localStorage.setItem("worldcup_student_v4", JSON.stringify(student));
}

function loadStudent(){
  try{
    const s=JSON.parse(localStorage.getItem("worldcup_student_v4")||"{}");
    student=Object.assign({school:"",grade:"",name:""},s);
    if($('#school')) $('#school').value=student.school;
    if($('#grade')) $('#grade').value=student.grade;
    if($('#name')) $('#name').value=student.name;
  }catch(e){}
}

function updateStudentMeta(){
  const t=[student.school,student.grade,student.name].filter(Boolean).join(" Â· ");
  $('#studentMeta').textContent = t ? `í•™ìƒì •ë³´: ${t}` : "í•™ìƒì •ë³´: (ë¯¸ì…ë ¥)";
}

/* ==== SVG Fallback ==== */
function svgFallback(key){
  switch(key){
    case "leaf": return `<svg viewBox="0 0 100 100"><path d="M50 80c18-10 28-26 28-40-10-2-22 0-28 8-6-8-18-10-28-8 0 14 10 30 28 40z" fill="#86efac" stroke="#0f172a" stroke-width="2"/><path d="M50 48v32" stroke="#0f172a" stroke-width="2"/></svg>`;
    case "care": return `<svg viewBox="0 0 100 100"><path d="M20 45c0-8 6-14 14-14 6 0 10 3 16 10 6-7 10-10 16-10 8 0 14 6 14 14 0 16-30 28-30 28S20 61 20 45z" fill="#93c5fd" stroke="#0f172a" stroke-width="2"/></svg>`;
    case "food": return `<svg viewBox="0 0 100 100"><ellipse cx="50" cy="70" rx="32" ry="10" fill="#fff" stroke="#0f172a" stroke-width="2"/><path d="M18 70h64" stroke="#0f172a" stroke-width="3"/><path d="M30 68c0-10 40-10 40 0" fill="#fb923c" stroke="#0f172a" stroke-width="2"/><circle cx="30" cy="45" r="10" fill="#fde68a" stroke="#0f172a" stroke-width="2"/><ellipse cx="66" cy="48" rx="14" ry="11" fill="#fca5a5" stroke="#0f172a" stroke-width="2"/></svg>`;
    case "tools": return `<svg viewBox="0 0 100 100"><path d="M20 70l20-20 10 10-20 20z" fill="#fde68a" stroke="#0f172a" stroke-width="2"/><path d="M52 28l20 20-8 8-20-20z" fill="#fff" stroke="#0f172a" stroke-width="2"/><circle cx="65" cy="35" r="6" fill="#fff" stroke="#0f172a" stroke-width="2"/></svg>`;
    case "box": return `<svg viewBox="0 0 100 100"><path d="M20 40l30-12 30 12-30 12-30-12z" fill="#ddd6fe" stroke="#0f172a" stroke-width="2"/><path d="M20 40v30l30 12V52L20 40z" fill="#e9d5ff" stroke="#0f172a" stroke-width="2"/><path d="M50 52l30-12v30L50 82V52z" fill="#f5d0fe" stroke="#0f172a" stroke-width="2"/></svg>`;
    case "laptop": return `<svg viewBox="0 0 100 100"><rect x="22" y="28" width="56" height="34" rx="4" fill="#c7d2fe" stroke="#0f172a" stroke-width="2"/><rect x="16" y="64" width="68" height="10" rx="2" fill="#93c5fd" stroke="#0f172a" stroke-width="2"/><path d="M22 58h56" stroke="#0f172a" stroke-width="2"/></svg>`;
    case "files": return `<svg viewBox="0 0 100 100"><rect x="26" y="18" width="40" height="54" rx="4" fill="#e5e7eb" stroke="#0f172a" stroke-width="2"/><rect x="36" y="28" width="40" height="54" rx="4" fill="#f3f4f6" stroke="#0f172a" stroke-width="2"/><path d="M40 40h24M40 48h24M40 56h20" stroke="#0f172a" stroke-width="2"/></svg>`;
    default: return `<svg viewBox="0 0 100 100"><rect width="100" height="100" fill="#fff"/></svg>`;
  }
}

/* ==== ì¹´ë“œ ìƒì„± ==== */
function choiceCard(d){
  const el = document.createElement('div');
  el.className = 'card';
  el.innerHTML = `
    <div class="card-body">
      <div class="illus">
        <div class="wrap">
          <img alt="${d.key}">
          <div class="svgwrap" style="display:none;"></div>
        </div>
      </div>
      <div class="title">${d.highlight}</div>
    </div>`;

  const img = el.querySelector('img');
  const svgWrap = el.querySelector('.svgwrap');
  const src = imageFor(d.key, d.highlight);

  // ì²˜ìŒì—” SVG ì•ˆ ë³´ì´ê²Œ (ë¡œë”© ì¤‘ì—” ê·¸ëƒ¥ í° ë°°ê²½ë§Œ ë³´ì´ê²Œ)
  svgWrap.style.display = 'none';

  // ì‹¤ì œ ì´ë¯¸ì§€ ë¡œë“œ ì„±ê³µ ì‹œ â†’ ì´ë¯¸ì§€ë§Œ ë³´ì´ê²Œ
  img.addEventListener('load', () => {
    img.style.display    = 'block';
    svgWrap.style.display = 'none';
  });

  // ì´ë¯¸ì§€ ë¡œë“œ ì‹¤íŒ¨ ì‹œ â†’ SVG fallback ë³´ì´ê²Œ
  img.addEventListener('error', () => {
    img.style.display    = 'none';
    svgWrap.style.display = 'block';
    svgWrap.innerHTML = svgFallback(d.key);
  });

  // ì´ë¯¸ì§€ ë¡œë”© ì‹œì‘
  img.src = src;
  if (img.complete && img.naturalWidth > 0) {
    // ìºì‹œë˜ì–´ ë°”ë¡œ ë¡œë”©ëœ ê²½ìš°
    img.style.display    = 'block';
    svgWrap.style.display = 'none';
  }

  // ì¹´ë“œ í´ë¦­ ì‹œ íš¨ê³¼ìŒ + ì„ íƒ ì²˜ë¦¬
  el.querySelector('.illus').addEventListener('click', ()=>{
    playClickSound();
    choose(d.id);
  });

  return el;
}


/* ==== ì§„í–‰ ë¡œì§ ==== */
let rounds = [];
let step   = 0;
let scores = Object.fromEntries(SUBJECTS.map(s=>[s.id,0]));

function resetGameState() {
  scores = Object.fromEntries(SUBJECTS.map(s => [s.id, 0]));
  step   = 0;
  rounds = makeRounds();

  const p = document.getElementById('progress');
  if (p) p.value = 0;

  const sn = document.getElementById('stepNow');
  if (sn) sn.textContent = '0';
}

function makeRounds(n=TOTAL_ROUNDS){
  const rs=[];
  for(let i=0;i<n;i++){
    let a=randPick(SUBJECTS), b=randPick(SUBJECTS);
    while(b.id===a.id) b=randPick(SUBJECTS);
    rs.push({
      a:{...a, highlight:randPick(a.activities)},
      b:{...b, highlight:randPick(b.activities)}
    });
  }
  return rs;
}

function renderStep(){
  if(!rounds.length) rounds=makeRounds();
  $('#stepNow').textContent = step;
  $('#progress').value = step;
  const cur = rounds[step];
  const box = $('#choices');
  box.innerHTML='';
  box.appendChild(choiceCard(cur.a));
  box.appendChild(choiceCard(cur.b));
}

function choose(id){
  scores[id]=(scores[id]||0)+1;
  if(step+1>=TOTAL_ROUNDS){ finish(); }
  else { step++; renderStep(); }
}

/* ==== ê²°ê³¼ ==== */
function finish(){
  showPage('page-result');
  updateStudentMeta();
  const ranking = SUBJECTS
    .map(s=>({subject:s, score:scores[s.id]}))
    .sort((a,b)=>b.score-a.score);

  const grid = $('#rankGrid');
  grid.innerHTML='';

  let lastScore = null;
let lastRank  = 0;

ranking.forEach((r, idx) => {
  const div = document.createElement('div');
  div.className = 'badge';

  // ì ìˆ˜ê°€ ì²˜ìŒ ë‚˜ì˜¤ê±°ë‚˜, ì´ì „ ê³¼ëª©ë³´ë‹¤ ë‚®ì„ ë•Œë§Œ ìˆœìœ„ ë²ˆí˜¸ ì—…ë°ì´íŠ¸
  if (lastScore === null || r.score < lastScore) {
    lastRank = idx + 1;      // ì‹¤ì œë¡œ ëª‡ ë²ˆì§¸ì— ìˆëŠ”ì§€
    lastScore = r.score;
  }
  const rankNum = lastRank;  // í‘œì‹œí•  ìˆœìœ„ ë²ˆí˜¸

  const medal =
    rankNum === 1 ? 'ğŸ¥‡' :
    rankNum === 2 ? 'ğŸ¥ˆ' :
    rankNum === 3 ? 'ğŸ¥‰' : '';

  div.innerHTML = `
    <h4>
      <span class="rank">${rankNum}ìœ„</span> ${medal} ${r.subject.id}
      <span class="muted">(${r.score}ì )</span>
    </h4>
    <ul style="margin:0; padding-left:18px; font-size:13px;">
      ${r.subject.activities.slice(0,4).map(a=>`<li>${a}</li>`).join('')}
    </ul>`;

  grid.appendChild(div);
});


  window.scrollTo(0,0);
}

/* ==== ì‚¬ìš´ë“œ & í˜ì´ì§€ ì „í™˜ ==== */
let soundEnabled = false;         // ê¸°ë³¸ì€ OFF
let currentPage  = 'page-start';  // í˜„ì¬ í˜ì´ì§€ id

function playClickSound() {
  if (!soundEnabled) return;
  const sound = document.getElementById('clickSound');
  if (!sound) return;
  sound.currentTime = 0;
  sound.play().catch(()=>{});
}

function updateBgmForPage() {
  const startSound  = document.getElementById('startSound');
  const finishSound = document.getElementById('finishSound');
  if (!startSound || !finishSound) return;

  // ì‚¬ìš´ë“œ OFFë©´ ëª¨ë“  BGM ì •ì§€
  if (!soundEnabled) {
    [startSound, finishSound].forEach(a=>{
      a.pause();
      a.currentTime = 0;
    });
    return;
  }

  if (currentPage === "page-start") {
    finishSound.pause(); finishSound.currentTime = 0;
    startSound.currentTime = 0;
    startSound.play().catch(()=>{});
  } else if (currentPage === "page-result") {
    startSound.pause(); startSound.currentTime = 0;
    finishSound.currentTime = 0;
    finishSound.play().catch(()=>{});
  } else {
    // ê²Œì„/ì •ë³´ ì…ë ¥ í™”ë©´ì—ì„œëŠ” BGM ì—†ìŒ
    startSound.pause();  startSound.currentTime  = 0;
    finishSound.pause(); finishSound.currentTime = 0;
  }
}

function showPage(id) {
  ["page-start","page-info","page-game","page-result"]
    .forEach(x => document.getElementById(x).classList.add("hidden"));
  document.getElementById(id).classList.remove("hidden");
  currentPage = id;
  updateBgmForPage();
}

/* ==== ë„¤ë¹„ê²Œì´ì…˜ ë²„íŠ¼ ==== */
$('#navStart').addEventListener('click', () => {
  resetGameState();
  showPage('page-start');
});

$('#navInfo').addEventListener('click', ()=>{ showPage('page-info'); loadStudent(); });
$('#navGame').addEventListener('click', ()=>{ showPage('page-game'); renderStep(); });
$('#printBtn').addEventListener('click', ()=>window.print());

$('#startToInfo').addEventListener('click', ()=>showPage('page-info'));
$('#infoToGame').addEventListener('click', ()=>{
  saveStudent();
  resetGameState();
  showPage('page-game');
  renderStep();
});
$('#infoClear').addEventListener('click', ()=>{
  ['school','grade','name'].forEach(id=>{
    const i=document.getElementById(id);
    if(i) i.value='';
  });
  saveStudent();
});

/* ê²°ê³¼í™”ë©´ ë²„íŠ¼ */
$('#againBtn').addEventListener('click', ()=>{
  resetGameState();
  showPage('page-game');
  renderStep();
});
$('#reshuffleBtn').addEventListener('click', ()=>{
  resetGameState();
  showPage('page-game');
  renderStep();
});
$('#printBtn2').addEventListener('click', ()=>window.print());
$('#downloadBtn').addEventListener('click', ()=>{
  const payload = {
    total: TOTAL_ROUNDS,
    scores,
    ranking: SUBJECTS
      .map(s=>({subject:s.id, score:scores[s.id]}))
      .sort((a,b)=>b.score-a.score),
    student,
    timestamp: new Date().toISOString()
  };
  const blob=new Blob([JSON.stringify(payload,null,2)],{type:"application/json"});
  const url=URL.createObjectURL(blob);
  const a=document.createElement('a');
  a.href=url;
  a.download=`í¥ë¯¸ê²°ê³¼_${new Date().toISOString().slice(0,10)}.json`;
  a.click();
  URL.revokeObjectURL(url);
});

/* ==== ì‚¬ìš´ë“œ í† ê¸€ ë²„íŠ¼ ==== */
const soundBtn = document.getElementById('soundToggle');
if (soundBtn) {
  soundBtn.textContent = "ğŸ”Š ì‚¬ìš´ë“œ ON"; // í˜„ì¬ OFF â†’ ëˆ„ë¥´ë©´ ON

  soundBtn.addEventListener('click', () => {
    soundEnabled = !soundEnabled;

    if (soundEnabled) {
      soundBtn.textContent = "ğŸ”‡ ì‚¬ìš´ë“œ OFF";
    } else {
      soundBtn.textContent = "ğŸ”Š ì‚¬ìš´ë“œ ON";
    }
    updateBgmForPage();
  });
}

/* ==== ì´ˆê¸°í™” ==== */
document.getElementById('roundTotal').textContent = TOTAL_ROUNDS;
document.getElementById('stepMax').textContent   = TOTAL_ROUNDS;
loadStudent();
showPage('page-start');
</script>


<!-- ğŸµ ì˜¤ë””ì˜¤ íƒœê·¸ëŠ” ë°˜ë“œì‹œ script ë°–! -->
<audio id="clickSound" src="sounds/click.mp3" preload="auto"></audio>

</body>
</html>
